(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{430:function(t,a,e){t.exports=e.p+"assets/img/side-by-side.02286f60.png"},431:function(t,a,e){t.exports=e.p+"assets/img/start.5afe251f.png"},432:function(t,a,e){t.exports=e.p+"assets/img/alpha-rotation.4b3d9857.png"},433:function(t,a,e){t.exports=e.p+"assets/img/beta-rotation.69a8d8a8.png"},434:function(t,a,e){t.exports=e.p+"assets/img/gamma-rotation.815816a5.png"},435:function(t,a,e){t.exports=e.p+"assets/img/riot-3d.41939aef.png"},436:function(t,a,e){t.exports=e.p+"assets/img/riot-wrong.50d2b27a.png"},437:function(t,a,e){t.exports=e.p+"assets/img/riot-normalized.f6d51345.png"},452:function(t,a,e){"use strict";e.r(a);var s=e(65),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"r-iot-compatibility-with-w3c-devicemotion-specification"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#r-iot-compatibility-with-w3c-devicemotion-specification"}},[t._v("#")]),t._v(" R-IoT compatibility with W3C "),s("code",[t._v("devicemotion")]),t._v(" specification")]),t._v(" "),s("p",[t._v("The aim of this document is to describe a convention to normalize data provided by the R-IoT motion sensor to match the W3C "),s("a",{attrs:{href:"https://www.w3.org/TR/orientation-event/",target:"_blank",rel:"noopener noreferrer"}},[t._v("devicemotion API"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#goal"}},[t._v("Goal")]),s("ul",[s("li",[s("a",{attrs:{href:"#smartphone-and-r-iot-axes"}},[t._v("Smartphone and R-IoT axes")])]),s("li",[s("a",{attrs:{href:"#units"}},[t._v("Units")])]),s("li",[s("a",{attrs:{href:"#mapping-function"}},[t._v("Mapping function")])])])]),s("li",[s("a",{attrs:{href:"#smartphone-s-motion-formats"}},[t._v("Smartphone's motion formats")])]),s("li",[s("a",{attrs:{href:"#r-iot"}},[t._v("R-IoT")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"goal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#goal"}},[t._v("#")]),t._v(" Goal")]),t._v(" "),s("h3",{attrs:{id:"smartphone-and-r-iot-axes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smartphone-and-r-iot-axes"}},[t._v("#")]),t._v(" Smartphone and R-IoT axes")]),t._v(" "),s("p",[s("img",{attrs:{src:e(430),alt:"smartphone-axes"}})]),t._v(" "),s("h3",{attrs:{id:"units"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#units"}},[t._v("#")]),t._v(" Units")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}}),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Smartphone")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("R-IoT")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Accelerometer")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("m/s2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("g")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Gyroscope")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("°/s")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("°/ms")])])])]),t._v(" "),s("h3",{attrs:{id:"mapping-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapping-function"}},[t._v("#")]),t._v(" Mapping function")]),t._v(" "),s("p",[t._v("To follow the "),s("code",[t._v("devicemotion")]),t._v(" specification, the R-IoT's original acceleration and gyroscope data must be changed as follows:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tmp_x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Acceleration : from g to m/s2 --\x3e multiply by 9.81")]),t._v("\nx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.81")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ny "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.81")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" tmp_x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nz "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.81")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" z"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tmp_alpha "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" alpha"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Rotation : from °/ms to °/s --\x3e multiply by 1000")]),t._v("\nalpha "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" gamma"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbeta "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" beta"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ngamma "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" tmp_alpha"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("h2",{attrs:{id:"smartphone-s-motion-formats"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smartphone-s-motion-formats"}},[t._v("#")]),t._v(" Smartphone's motion formats")]),t._v(" "),s("blockquote",[s("p",[t._v("Smartphone's precise specifications can be found here : "),s("a",{attrs:{href:"https://www.w3.org/TR/orientation-event/#introduction",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.w3.org/TR/orientation-event/#introduction"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("From the "),s("em",[t._v("deviceMotionEvent")]),t._v(" , we can get the "),s("strong",[t._v("accelerationIncludingGravity")]),t._v(" and "),s("strong",[t._v("rotationRate")]),t._v(".\nThe axes are set such as, with the phone held on the vertical, screen side up, x and y axis are both in the same plane, the first going towards the right, and the latter going up, and the z axis perpendicular to the screen.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(431),alt:"alt text",title:"smartphone axes"}})]),t._v(" "),s("p",[t._v("The "),s("strong",[t._v("accelerationIncludingGravity")]),t._v(" return 3 floats, one for each axis, and is expressed in m/s2.\nFor example, if the phone is sitting flat on a table, screen side up, the acceleration would be [0, 0, 9.81].")]),t._v(" "),s("p",[t._v("As for the "),s("strong",[t._v("rotationRate")]),t._v(", it returns 3 floats for each angular velocity, in °/sec.\nThe variable "),s("strong",[t._v("alpha")]),t._v(" represents the rotation angle around the the z axis,")]),t._v(" "),s("p",[s("img",{attrs:{src:e(432),alt:"alt text",title:"alpha rotation"}})]),t._v(" "),s("p",[s("strong",[t._v("beta")]),t._v(" around the x axis,")]),t._v(" "),s("p",[s("img",{attrs:{src:e(433),alt:"alt text",title:"beta rotation"}})]),t._v(" "),s("p",[t._v("and "),s("strong",[t._v("gamma")]),t._v(" around the y axis.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(434),alt:"alt text",title:"gamma-rotation"}})]),t._v(" "),s("h2",{attrs:{id:"r-iot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#r-iot"}},[t._v("#")]),t._v(" R-IoT")]),t._v(" "),s("blockquote",[s("p",[t._v("See the R-IoT manual : "),s("a",{attrs:{href:"https://bitalino.com/docs/MANUAL_RIOT_V1.2.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://bitalino.com/docs/MANUAL_RIOT_V1.2.pdf"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("p",[t._v("By default, the acceleration and rotation data from the R-IoT ranges between -1 and 1, expressed in m/s2 and °/ms, respectively.")]),t._v(" "),s("p",[t._v("As for the axes, by default they are as follows :")]),t._v(" "),s("p",[s("img",{attrs:{src:e(435),alt:"alt text",title:"riot default axes"}})]),t._v(" "),s("p",[t._v("However, we decided that we would change the axes so that the R-IoT indication on the sensor is legible.\nThe axes thus need to be changed from this :\n"),s("img",{attrs:{src:e(436),alt:"alt text",title:"png wrong axes"}})]),t._v(" "),s("p",[t._v("to this :")]),t._v(" "),s("p",[s("img",{attrs:{src:e(437),alt:"alt text",title:"riot normalized"}})]),t._v(" "),s("p",[t._v("As for the angles, gamma is the angle around the z axis, beta around the x axis, and alpha around the y axis.")])])}),[],!1,null,null,null);a.default=n.exports}}]);